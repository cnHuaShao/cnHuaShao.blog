{"meta":{"title":"cn華少","subtitle":"个人博客","description":"我的个人博客","author":"cn華少","url":"http://cnhuashao.com"},"pages":[{"title":"categories","date":"2019-04-13T09:13:58.000Z","updated":"2019-04-13T09:17:28.371Z","comments":true,"path":"categories/index.html","permalink":"http://cnhuashao.com/categories/index.html","excerpt":"","text":""},{"title":"tags","date":"2019-04-13T09:14:07.000Z","updated":"2019-04-13T09:16:31.549Z","comments":true,"path":"tags/index.html","permalink":"http://cnhuashao.com/tags/index.html","excerpt":"","text":""},{"title":"about","date":"2019-04-13T09:14:40.000Z","updated":"2019-04-13T09:16:17.521Z","comments":true,"path":"about/index.html","permalink":"http://cnhuashao.com/about/index.html","excerpt":"","text":""}],"posts":[{"title":"在Linux mint 18上安装IntelliJ IDEA开发环境","slug":"IDEA-IntelliJ-init","date":"2019-04-18T05:59:29.000Z","updated":"2019-04-18T05:59:29.000Z","comments":true,"path":"2019/04/18/IDEA-IntelliJ-init/","link":"","permalink":"http://cnhuashao.com/2019/04/18/IDEA-IntelliJ-init/","excerpt":"一般情况下，使用 Linux mint 的我们都是在用它的图形界面，而安装IntelliJ IDEA传统思维模式是直接打开浏览器，进行下载即可。但就是这么一个简单的流程，就导致了下载文件损坏的问题。下面是我整理的安装步骤，如有问题，欢迎给予指出。安装环境：Linux mint 18JDK1.8 1、Ctrl+Alt+T打开终端，使用命令 1$ wget https://download.jetbrains.8686c.com/idea/ideaIU-2017.2.4.tar.gz","text":"一般情况下，使用 Linux mint 的我们都是在用它的图形界面，而安装IntelliJ IDEA传统思维模式是直接打开浏览器，进行下载即可。但就是这么一个简单的流程，就导致了下载文件损坏的问题。下面是我整理的安装步骤，如有问题，欢迎给予指出。安装环境：Linux mint 18JDK1.8 1、Ctrl+Alt+T打开终端，使用命令 1$ wget https://download.jetbrains.8686c.com/idea/ideaIU-2017.2.4.tar.gz 开始下载。 2、下载完成后，进行效验文件的完成性，使用命令： 1$ sha256sum ideaIU-2017.2.4.tar.gz 官方值查询地址 https://download.jetbrains.com/idea/ideaIU-2017.2.4.tar.gz.sha256其值为：952183763c239acc48a99f4b29c767aa9ab89b1f83d8dc5917e6e61952fbfcf8 *ideaIU-2017.2.4.tar.gz 生成的值与其官网的进行对比。这时对比发现，值一致则说明下载文件没有问题。如果生成的值为以下值或其他值：98cdc40b9b857867f6ff932d1c9da31fbb05d8e1abc38120d644036277b94911 ideaIU-2017.2.4.tar.gz 生成的值与官方提供的值不一样，说明其下载的包存在问题，是损坏的。需要重新进行下载。备注：在使用浏览器下载的和从windows系统中下载后传过来的均为98cdc开头的值，说明其下载传输存在异常。有说需要直接采用二进制方式进行传输下载才可以。我试了很多遍后才成功下载，建议多试几遍。也可以安装2.3版本，然后再升级即可，貌似官网2.4的包有问题。 3、成功拼配后，使用gunzip进行第一次解压: 1$ gunzip ideaIU-2017.2.4.tar.gz 解压出来的文件为：ideaIU-2017.2.4.tar4、开始第二次解压，使用tar命令： 1$ tar -xvf ideaIU-2017.2.4.tar 解压出来的文件夹为：idea-IU-172.4155.365、开始进行安装，进入idea-IU-172.4155.36目录的bin文件夹中。12$ cd idea-IU-172.4155.36/bin/$ sudo ./idea.sh 6、出来安装页面，如果之前有配置文件，则选择其之前的配置文件，如果没有则按照下图进行选择即可。 7、点击Accept同意其协议 8、进入激活页面，根据自己实际情况进行激活，请支持正版版权，这里为了演示，采用目前网上主流的破解方式进行。按下图进行选择。 在其地址框中输入以下地址：http://idea.iteblog.com/key.php 点击Activate进行激活。8、进入风格选择页面，根据自己的喜好进行选择即可。这里如果不想自定义设置，可以点击Skip All and Set Defaults直接跳过所有设置，采用默认设置。 9、选择For all users，防止后续其他用户无法使用该工具进行开发。 10、让其创建启动脚本和命令行工具，后续可通过命令的方式直接进行项目文件编辑修改。这里根据自己需要进行选择即可。 11、选择需要的插件，这里采用的是默认安装，后续如有需要的到时再进行安装即可。 12、其他工具选择性安装即可。建议别安装ideavim工具，不然打开的文件都默认开启了insert。 13、进入启动项目创建页面，这样整个安装过程就完成了。 如有安装上面的问题，欢迎在下面进行留言交流，编写不对的地方也望各位给予指出。谢谢。","categories":[{"name":"IDEA","slug":"IDEA","permalink":"http://cnhuashao.com/categories/IDEA/"},{"name":"IntelliJ","slug":"IDEA/IntelliJ","permalink":"http://cnhuashao.com/categories/IDEA/IntelliJ/"}],"tags":[{"name":"idea","slug":"idea","permalink":"http://cnhuashao.com/tags/idea/"}],"keywords":[{"name":"IDEA","slug":"IDEA","permalink":"http://cnhuashao.com/categories/IDEA/"},{"name":"IntelliJ","slug":"IDEA/IntelliJ","permalink":"http://cnhuashao.com/categories/IDEA/IntelliJ/"}]},{"title":"在IntelliJ IDEA上面进行使用svn进行版本管理","slug":"IDEA-IntelliJ-SVN","date":"2019-04-18T05:58:22.000Z","updated":"2019-04-18T05:58:22.000Z","comments":true,"path":"2019/04/18/IDEA-IntelliJ-SVN/","link":"","permalink":"http://cnhuashao.com/2019/04/18/IDEA-IntelliJ-SVN/","excerpt":"一、进行安装一款svn客户端，本次采用的是TortoiseSVN客户端。下载地址为https://tortoisesvn.net/downloads.html开始进行安装","text":"一、进行安装一款svn客户端，本次采用的是TortoiseSVN客户端。下载地址为https://tortoisesvn.net/downloads.html开始进行安装 将该工具选择，进行安装。 二、打开IntelliJ IDEA工具，进行开始进行设置。点击File——&gt;Settings…——&gt;Version Control——&gt;Subversion——&gt;General，选择TortoiseSVN中进行 三、开始进行选择VCS——&gt;Checkout from Version Control——&gt;Subversion 开始填写svn地址，点击OK即可选择SVN中的项目进行下载，并进行版本管控。","categories":[{"name":"IDEA","slug":"IDEA","permalink":"http://cnhuashao.com/categories/IDEA/"},{"name":"IntelliJ","slug":"IDEA/IntelliJ","permalink":"http://cnhuashao.com/categories/IDEA/IntelliJ/"}],"tags":[{"name":"idea","slug":"idea","permalink":"http://cnhuashao.com/tags/idea/"}],"keywords":[{"name":"IDEA","slug":"IDEA","permalink":"http://cnhuashao.com/categories/IDEA/"},{"name":"IntelliJ","slug":"IDEA/IntelliJ","permalink":"http://cnhuashao.com/categories/IDEA/IntelliJ/"}]},{"title":"在Ubuntu16.04 Server中安装tomcat9+jdk1.8+apr","slug":"tomcat-init-apr","date":"2019-04-18T05:56:34.000Z","updated":"2019-04-18T05:56:34.000Z","comments":true,"path":"2019/04/18/tomcat-init-apr/","link":"","permalink":"http://cnhuashao.com/2019/04/18/tomcat-init-apr/","excerpt":"本次安装环境为：系统：Ubuntu16.04.3 server需要的安装包：tomcat9: https://tomcat.apache.org/download-90.cgijdk1.8: http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.htmlapr1.6.2、apr-iconv1.2.2、apr-util-1.6.0: http://apr.apache.org/download.cgi 也可直接下载我打包好的下载包：https://download.csdn.net/download/csde12/10322753","text":"本次安装环境为：系统：Ubuntu16.04.3 server需要的安装包：tomcat9: https://tomcat.apache.org/download-90.cgijdk1.8: http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.htmlapr1.6.2、apr-iconv1.2.2、apr-util-1.6.0: http://apr.apache.org/download.cgi 也可直接下载我打包好的下载包：https://download.csdn.net/download/csde12/10322753 1、创建jdk与tomcat目录1234sudo mkdir /usr/javasudo mkdir /usr/tomcatsudo chown cnHuaShao:cnHuaShao /usr/javasudo chown cnHuaShao:cnHuaShao /usr/tomcat 2、上传jdk包到/usr/java目录中，上传tomcat与apr包到/usr/tomcat目录中，进入/user/java目录中执行以下命令开始解压jdk12cd /usr/javatar -zxf jdk-8u151-linux-x64.tar.gz 3、配置环境变量，这里直接将apr的也配置完成，稍后需要安装时就不需要再配置了。1sudo vim /etc/profile 4、在该文件的最后增加以下内容1234567JAVA_HOME=/usr/java/jdk1.8.0_151JRE_HOME=$JAVA_HOME/jrePATH=$PATH:$JAVA_HOME/bin:$JRE_HOME/binCLASSPATH=:$JRE_HOME/lib/rt.jar:$JAVA_HOME/lib/tools.jar:$JRE_HOME/lib/dt.jarexport JAVA_HOME JRE_HOME PATH CLASSPATHexport LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/apr/libexport LD_RUN_PATH=$LD_RUN_PATH:/usr/local/apr/lib 立即生效，可以通过java -version 、java、javac命令进行测试是否成功1source /etc/profile 5、进入/usr/tomcat目录中进行解压tomcat包和apr包1234tar -zxf apache-tomcat-9.0.2.tar.gztar -zxf apr-1.6.2.tar.gztar -zxf apr-iconv-1.2.2.tar.gztar -zxf apr-util-1.6.0.tar.gz 6、安装apr需要的所有基础包1sudo apt-get install -y libtool libapr1 make gcc libexpat1-dev expat-devel 7、安装apr基础包12cd /usr/tomcat/apr-1.6.2sudo ./configure &amp;&amp; sudo make &amp;&amp; sudo make install 8、安装apr-iconv包12cd /usr/tomcat/apr-iconv-1.2.2sudo ./configure --with-apr=/usr/local/apr &amp;&amp; sudo make &amp;&amp; sudo make install 9、安装apr-util包12cd /usr/tomcat/apr-util-1.6.0sudo ./configure --with-apr=/usr/local/apr --with-iconv=/usr/local/apache2 &amp;&amp; sudo make &amp;&amp; sudo make install 10、安装tomcat集成apr插件包12345cd /usr/tomcat/apache-tomcat-9.0.2/bin/tar -zxf tomcat-native.tar.gzcd tomcat-native-1.2.16-src/native/sudo ./configure --with-apr=/usr/local/apr --with-java-home=$JAVA_HOME &amp;&amp; sudo make &amp;&amp; sudo make installsudo ln -s /usr/local/apr/lib/libtcnative-1.so /usr/lib/libcnative-1.so 11、进行调整tomcat参数12cd /usr/tomcat/apache-tomcat-9.0.2/vim conf/server.xml 123456&lt;Listener className=&quot;org.apache.catalina.core.AprLifecycleListener&quot; SSLEngine=&quot;off&quot; /&gt;&lt;Connector executor=&quot;tomcatThreadPool&quot; port=&quot;8080&quot; protocol=&quot;org.apache.coyote.http11.Http11AprProtocol&quot; URIEncoding=&quot;UTF-8&quot; enableLookups=&quot;false&quot; acceptCount=&quot;50&quot; connectionTimeout=&quot;1000&quot; maxKeepAliveRequests=&quot;250&quot; redirectPort=&quot;8443&quot; /&gt; 删除配置文件中的user相关配置，解决漏洞问题。 启动时可能会变慢，修改启动项，这里参考文章https://www.cnblogs.com/devilwind/p/6902037.htmlvim bin/catalina.sh加入JAVA_OPTS=”-Djava.security.egd=file:/dev/./urandom”这个配置 12、进行启动测试12bin/startup.sh tail -1000f logs/catalina.out 至此本次的环境安装完成。","categories":[{"name":"tomcat","slug":"tomcat","permalink":"http://cnhuashao.com/categories/tomcat/"}],"tags":[{"name":"tomcat","slug":"tomcat","permalink":"http://cnhuashao.com/tags/tomcat/"}],"keywords":[{"name":"tomcat","slug":"tomcat","permalink":"http://cnhuashao.com/categories/tomcat/"}]},{"title":"在ubuntu16.04上安装owncloud","slug":"owncloud-init","date":"2019-04-18T05:54:19.000Z","updated":"2019-04-18T05:54:19.000Z","comments":true,"path":"2019/04/18/owncloud-init/","link":"","permalink":"http://cnhuashao.com/2019/04/18/owncloud-init/","excerpt":"本次进行搭建一个owncloud云盘环境，其官方提供了多种安装方式，本次采用压缩包进行手动安装，如果想apt-get install安装，建议查看官网即可快速安装。开始进入正题：一、安装apache2环境。1sudo apt install apache2 二、安装php环境与mysql数据库1sudo apt-get install php7.0 mysql-server-5.7 三、创建owncloud要使用的数据库用户与相关数据库。","text":"本次进行搭建一个owncloud云盘环境，其官方提供了多种安装方式，本次采用压缩包进行手动安装，如果想apt-get install安装，建议查看官网即可快速安装。开始进入正题：一、安装apache2环境。1sudo apt install apache2 二、安装php环境与mysql数据库1sudo apt-get install php7.0 mysql-server-5.7 三、创建owncloud要使用的数据库用户与相关数据库。 1mysql -uroot -p 12CREATE DATABASE IF NOT EXISTS owncloud;GRANT ALL PRIVILEGES ON owncloud.* TO &apos;owncloud&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;123456&apos;; 四、完善owncloud需要的基础环境，原则上之前已经安装过apache2和php环境应该不会出问题，以防万一进行全面安装一次。1sudo apt-get install apache2 libapache2-mod-php7.0 php7.0-gd php7.0-mysql php7.0-curl php7.0-intl php7.0-mcrypt php-imagick php7.0-zip php7.0-xml php7.0-mbstring 五、下载owncloud安装包。1wget https://download.owncloud.org/community/owncloud-10.0.3.tar.bz2 六、开始解压owncloud1sudo tar xjf owncloud-10.0.3.tar.bz2 七、将owncloud放入apache2中。1sudo cp -r -v owncloud/ /var/www/html/ 八、开始创建owncloud用户存储目录。12cd /var/www/html/owncloud/sudo mkdir data 九、更改owncloud目录中相关目录权限123sudo chown -R www-data:www-data datasudo chown -R www-data:www-data configsudo chown -R www-data:www-data apps 十、配置apache21sudo vim /etc/apache2/apache2.conf 12345&lt;Directory /var/www/&gt; Options Indexes FollowSymLinks AllowOverride All Require all granted &lt;/Directory&gt; 十一、重启相关服务1234sudo service apache2 restart sudo a2enmod rewrite sudo a2enmod headers sudo service apache2 restart 十二、使用浏览器进行初始化owncloud，开始正常使用owncloud1http://127.0.0.1/owncloud","categories":[{"name":"owncloud","slug":"owncloud","permalink":"http://cnhuashao.com/categories/owncloud/"}],"tags":[{"name":"owncloud","slug":"owncloud","permalink":"http://cnhuashao.com/tags/owncloud/"}],"keywords":[{"name":"owncloud","slug":"owncloud","permalink":"http://cnhuashao.com/categories/owncloud/"}]},{"title":"使用namecheap证书进行配置htmls安全访问","slug":"owncloud-sslpeizhi","date":"2019-04-18T05:54:13.000Z","updated":"2019-04-18T05:54:13.000Z","comments":true,"path":"2019/04/18/owncloud-sslpeizhi/","link":"","permalink":"http://cnhuashao.com/2019/04/18/owncloud-sslpeizhi/","excerpt":"1、开启SSL模块 $ a2enmod ssl 2、启用SSL站点 $ a2ensite default-ssl","text":"1、开启SSL模块 $ a2enmod ssl 2、启用SSL站点 $ a2ensite default-ssl 3、加入监听端口 $ sudo vim /etc/apache2/ports.conf 编辑Apache端口配置，加入443端口 (HTTPS采用的443端口传输数据) Listen 443 4、配置虚拟主机 编辑default-ssl文件，加入证书对应的主机头。 $ sudo vim /etc/apache2/sites-enabled/default-ssl.conf ServerName extend.me 5、配置SSL证书 按如下配置: SSLEngine on SSLCertificateFile /etc/apache2/ssl/ca.crt SSLCertificateKeyFile /etc/apache2/ssl/server.key 重新启动Apache $ sudo service apache2 restart SSLEngine onSSLCertificateFile /etc/ssl/certs/ssl-cert-snakeoil.pemSSLCertificateKeyFile /etc/ssl/private/ssl-cert-snakeoil.key 编辑器打开.htaccess文件，写入如下规则：RewriteEngine onRewriteCond %{SERVER_PORT} !^443$RewriteCond %{REQUEST_URI} !^/tz.phpRewriteRule (.*) https://%{SERVER_NAME}/$1 [R] 解释：%{SERVER_PORT} —— 访问端口%{REQUEST_URI} —— 比如如果url是 http://localhost/tz.php，则是指 /tz.php%{SERVER_NAME} —— 比如如果url是 http://localhost/tz.php，则是指 localhost 以上规则的意思是，如果访问的url的端口不是443，且访问页面不是tz.php，则应用RewriteRule这条规则。这样便实现了：访问了 http://localhost/index.php 或者 http://localhost/admin/index.php 等页面的时候会自动跳转到 https://localhost/index.php 或者 https://localhost/admin/index.php，但是访问 http://localhost/tz.php 的时候就不会做任何跳转，也就是说 http://localhost/tz.php 和 https://localhost/tz.php 两个地址都可以访问。","categories":[{"name":"owncloud","slug":"owncloud","permalink":"http://cnhuashao.com/categories/owncloud/"}],"tags":[{"name":"owncloud","slug":"owncloud","permalink":"http://cnhuashao.com/tags/owncloud/"}],"keywords":[{"name":"owncloud","slug":"owncloud","permalink":"http://cnhuashao.com/categories/owncloud/"}]},{"title":"使用Dropwizard搭建一个Hello World","slug":"Dropwizard-init","date":"2019-04-18T05:51:42.000Z","updated":"2019-04-18T05:51:42.000Z","comments":true,"path":"2019/04/18/Dropwizard-init/","link":"","permalink":"http://cnhuashao.com/2019/04/18/Dropwizard-init/","excerpt":"在开始之前我们需要准备一些环境，以下为本次所需相关工具：系统：windows 7JDK：1.8开发工具：IntelliJ IDEA 2017.2.5Maven：idea自带最新版本，采用本地化setting.xml（可以参考阿里巴巴的源配置，这样创建项目时自动下载要快很多倍）本次编写demo参考依据为Dropwizard官网","text":"在开始之前我们需要准备一些环境，以下为本次所需相关工具：系统：windows 7JDK：1.8开发工具：IntelliJ IDEA 2017.2.5Maven：idea自带最新版本，采用本地化setting.xml（可以参考阿里巴巴的源配置，这样创建项目时自动下载要快很多倍）本次编写demo参考依据为Dropwizard官网 下面我们开始进入正题，创建第一个基于Dropwizard的Hello World一、创建一个maven的web项目 这里在创建时因为我本地已经存在了settings.xml，因此选择本地化配置文件，如果采用默认的则不需要进行选择。 点击图中标记的位置，将相关包进行下载并加入引用中，其实默认就一个junit包引用而已。二、开始进行创建基础包路径 创建一个java目录，并设置该目录为根目录。三、在pom.xml中引入dependency基础包。123456789101112&lt;properties&gt; &lt;dependency.version&gt;1.2.0&lt;/dependency.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;!-- Dropwizard基础包 --&gt; &lt;dependency&gt; &lt;groupId&gt;io.dropwizard&lt;/groupId&gt; &lt;artifactId&gt;dropwizard-core&lt;/artifactId&gt; &lt;version&gt;$&#123;dependency.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; 四、创建基础yml配置文件该demo1.yml文件中的内容为：1234#要打印的基础语句，其中%s是占位符。template: Hello, %s!#默认引用时的名字，这里名字叫做StrangerdefaultName: Stranger 在这里开始进入Dropwizard特性的一些编写了。yml配置文件在官方解释中是这样说的： Each Dropwizard application has its own subclass of the Configuration class which specifies environment-specific parameters. These parameters are specified in a YAML configuration file which is deserialized to an instance of your application’s configuration class and validated.The application we’ll be building is a high-performance Hello World service, and one of our requirements is that we need to be able to vary how it says hello from environment to environment. We’ll need to specify at least two things to begin with: a template for saying hello and a default name to use in case the user doesn’t specify their name. 因此我这里在写hello world时就直接按照上面说的来了。word在模板里面先用占位符，这样就可以[hello，小明]了o(╯□╰)o五、创建基础Configuration，用于进行反序列化。12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758package com.demo1.helloworld.configuration;import com.fasterxml.jackson.annotation.JsonProperty;import io.dropwizard.Configuration;import org.hibernate.validator.constraints.NotEmpty;/** * &lt;b&gt;TODO(com.demo1.helloworld.configuration @TODO)&lt;/b&gt;&lt;br&gt; * 版权所有 &lt;a href=&quot;http://www.whndj.com&quot;&gt;中国，華少&lt;/a&gt;&lt;br&gt; * 本软件仅对本次教程负责，其版权归属cnHuaShao，如需引用，请申明其版权所有人。 * * @Description: TODO 创建人：toplion * @CreateDate 2017 2017/11/4 10:31 11 修改人：toplion * &lt;a href=&quot;mailto:lz2392504@gmail.com&quot;&gt;cnHuaShao&lt;/a&gt; * 修改备注： * @since V1.0 */public class HelloWorldConfiguration extends Configuration &#123; /** * NotEmpty注解表示该变量不可以为空，之前我们在demo1.yml中已经编写了该变量对应的值，这个类主要是将其进行反序列化 */ @NotEmpty private String template; /** * NotEmpty注解表示该变量不可以为空，之前我们在demo1.yml中已经编写了该变量对应的值，这个类主要是将其进行反序列化 * 默认值直接写入Stranger，这里根据自己的demo1.yml中defaultName默认值写的是什么就直接赋值什么，当然也可以不赋值，等具体引用时在赋值，不过建议还是写上去一个默认值，防止它出错。 * 如果这两个值是空，则抛出系统异常 */ @NotEmpty private String defaultName = &quot;Stranger&quot;; /** * 这里get set进行注解JsonProperty主要是为了对yml进行反序列化使用 * @return */ @JsonProperty public String getTemplate() &#123; return template; &#125; @JsonProperty public void setTemplate(String template) &#123; this.template = template; &#125; @JsonProperty public String getDefaultName() &#123; return defaultName; &#125; @JsonProperty public void setDefaultName(String name) &#123; this.defaultName = name; &#125;&#125; 官方给出的解释是： Each Dropwizard application has its own subclass of the Configuration class which specifies environment-specific parameters. These parameters are specified in a YAML configuration file which is deserialized to an instance of your application’s configuration class and validated.The application we’ll be building is a high-performance Hello World service, and one of our requirements is that we need to be able to vary how it says hello from environment to environment. We’ll need to specify at least two things to begin with: a template for saying hello and a default name to use in case the user doesn’t specify their name. 六、进行创建基础Application12345678910111213141516171819202122232425262728293031323334package com.demo1.helloworld.application;import com.demo1.helloworld.configuration.HelloWorldConfiguration;import io.dropwizard.Application;import io.dropwizard.setup.Environment;/** * &lt;b&gt;TODO(com.demo1.helloworld.application @TODO)&lt;/b&gt;&lt;br&gt; * 版权所有 &lt;a href=&quot;http://www.whndj.com&quot;&gt;中国，華少&lt;/a&gt;&lt;br&gt; * 本软件仅对本次教程负责，其版权归属cnHuaShao，如需引用，请申明其版权所有人。 * * @Description: TODO 创建人：toplion * @CreateDate 2017 2017/11/4 10:58 11 修改人：toplion * &lt;a href=&quot;mailto:lz2392504@gmail.com&quot;&gt;cnHuaShao&lt;/a&gt; * 修改备注： * @since V1.0 */public class HelloWorldApplication extends Application&lt;HelloWorldConfiguration&gt; &#123; /** * 基础核心启动方法。dropwizard应用的核心方法。主要进行处理具体的业务逻辑的类 * @param configuration * @param environment * @throws Exception */ public void run(HelloWorldConfiguration configuration, Environment environment) throws Exception &#123; &#125; @Override public String getName() &#123; return &quot;hello-world&quot;; &#125;&#125; 七、创建一个基础表示类，其需要使其转成JSON时遵循RFC 1149123456789101112131415161718192021222324252627282930313233343536373839404142434445package com.demo1.helloworld.api;import com.fasterxml.jackson.annotation.JsonProperty;import org.hibernate.validator.constraints.Length;/** * &lt;b&gt;TODO(com.demo1.helloworld.api @TODO)&lt;/b&gt;&lt;br&gt; * 版权所有 &lt;a href=&quot;http://www.whndj.com&quot;&gt;中国，華少&lt;/a&gt;&lt;br&gt; * 本软件仅对本次教程负责，其版权归属cnHuaShao，如需引用，请申明其版权所有人。 * * @Description: TODO 创建人：toplion * @CreateDate 2017 2017/11/4 11:07 11 修改人：toplion * &lt;a href=&quot;mailto:lz2392504@gmail.com&quot;&gt;cnHuaShao&lt;/a&gt; * 修改备注： * @since V1.0 */public class Saying &#123; private long id; /** * 内容最大长度不可以超过10 */ @Length(max = 10) private String content; public Saying() &#123; // Jackson deserialization &#125; public Saying(long id, String content) &#123; this.id = id; this.content = content; &#125; @JsonProperty public long getId() &#123; return id; &#125; @JsonProperty public String getContent() &#123; return content; &#125;&#125; 八、创建Resource 类1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253package com.demo1.helloworld.resources;import com.codahale.metrics.annotation.Timed;import com.demo1.helloworld.api.Saying;import javax.ws.rs.GET;import javax.ws.rs.Path;import javax.ws.rs.Produces;import javax.ws.rs.QueryParam;import javax.ws.rs.core.MediaType;import java.util.concurrent.atomic.AtomicLong;import java.util.Optional;/** * &lt;b&gt;TODO(com.demo1.helloworld.resources @TODO)&lt;/b&gt;&lt;br&gt; * 版权所有 &lt;a href=&quot;http://www.whndj.com&quot;&gt;中国，華少&lt;/a&gt;&lt;br&gt; * 本软件仅对本次教程负责，其版权归属cnHuaShao，如需引用，请申明其版权所有人。 * * @Description: TODO 创建人：toplion * @CreateDate 2017 2017/11/4 11:19 11 修改人：toplion * &lt;a href=&quot;mailto:lz2392504@gmail.com&quot;&gt;cnHuaShao&lt;/a&gt; * 修改备注： * @since V1.0 */@Path(&quot;/hello-world&quot;)//跳转地址@Produces(MediaType.APPLICATION_JSON)//返回的数据类型public class HelloWorldResource &#123; private final String template; private final String defaultName; private final AtomicLong counter; public HelloWorldResource(String template, String defaultName) &#123; this.template = template; this.defaultName = defaultName; this.counter = new AtomicLong(); &#125; /** * @Timed dropwizard会自动记录时间和它的调用率作为度量定时器 * @param name * @return * @QueryParam 为URL链接后面的参数（url ？&#123;参数名&#125; = &#123;参数值&#125; 的格式） */ @GET//客户端访问时只能通过get方法访问 @Timed public Saying sayHello(@QueryParam(&quot;name&quot;) Optional&lt;String&gt; name) &#123; //如果name参数没有传入，则调用defaultName的值，如果传入了，则采用name的值 final String value = String.format(template, name.orElse(defaultName)); //返回Saying对象 return new Saying(counter.incrementAndGet(), value); &#125;&#125; 九、修改第六步时创建的Application中的run方法。12345678910public void run(HelloWorldConfiguration configuration, Environment environment) throws Exception &#123; //声明一个resource，并传入初始化的值，该值由configuration读取的yml配置文件中的值。 //可以启动多个resource final HelloWorldResource resource = new HelloWorldResource( configuration.getTemplate(), configuration.getDefaultName() ); environment.jersey().register(resource); &#125; 十、创建一个HealthCheck类123456789101112131415161718192021222324252627282930313233package com.demo1.helloworld.health;import com.codahale.metrics.health.HealthCheck;/** * &lt;b&gt;TODO(com.demo1.helloworld.health @TODO)&lt;/b&gt;&lt;br&gt; * 版权所有 &lt;a href=&quot;http://www.whndj.com&quot;&gt;中国，華少&lt;/a&gt;&lt;br&gt; * 本软件仅对本次教程负责，其版权归属cnHuaShao，如需引用，请申明其版权所有人。 * * @Description: TODO 创建人：toplion * @CreateDate 2017 2017/11/4 11:37 11 修改人：toplion * &lt;a href=&quot;mailto:lz2392504@gmail.com&quot;&gt;cnHuaShao&lt;/a&gt; * 修改备注： * @since V1.0 */public class TemplateHealthCheck extends HealthCheck &#123; private final String template; public TemplateHealthCheck(String template) &#123; this.template = template; &#125; @Override protected Result check() throws Exception &#123; final String saying = String.format(template, &quot;模板测试&quot;); if (!saying.contains(&quot;模板测试&quot;)) &#123; return Result.unhealthy(&quot;该模板不包含名称&quot;); &#125; return Result.healthy(); &#125;&#125; 官方给出的解释是这样的： Health checks give you a way of adding small tests to your application to allow you to verify that your application is functioning correctly in production. We strongly recommend that all of your applications have at least a minimal set of health checks.其实这个是可有可无的，为了安全起见，这里先加上。（官方例子中要求加上o(╯□╰)o） 十一、再次修改第六步时创建的Application中的run方法。12345678910111213141516public void run(HelloWorldConfiguration configuration, Environment environment) throws Exception &#123; //声明一个resource，并传入初始化的值，该值由configuration读取的yml配置文件中的值。 //可以启动多个resource final HelloWorldResource resource = new HelloWorldResource( configuration.getTemplate(), configuration.getDefaultName() ); //声明一个检查点，让其进行检查该模板的正确性。 final TemplateHealthCheck healthCheck = new TemplateHealthCheck(configuration.getTemplate()); environment.healthChecks().register(&quot;template&quot;, healthCheck); environment.jersey().register(resource); &#125; 十一、创建一个main方法。12345678910111213141516171819202122package com.demo1.helloworld.main;import com.demo1.helloworld.application.HelloWorldApplication;/** * &lt;b&gt;TODO(com.demo1.helloworld.main @TODO)&lt;/b&gt;&lt;br&gt; * 版权所有 &lt;a href=&quot;http://www.whndj.com&quot;&gt;中国，華少&lt;/a&gt;&lt;br&gt; * 本软件仅对本次教程负责，其版权归属cnHuaShao，如需引用，请申明其版权所有人。 * * @Description: TODO 创建人：toplion * @CreateDate 2017 2017/11/4 11:00 11 修改人：toplion * &lt;a href=&quot;mailto:lz2392504@gmail.com&quot;&gt;cnHuaShao&lt;/a&gt; * 修改备注： * @since V1.0 */public class HelloWorldMain &#123; public static void main(String[] args) throws Exception &#123; //启动helloworld new HelloWorldApplication().run(args); &#125;&#125; 官方例子中main方法写在Application类中，我这里将其提出来了，方便大家理解。 #至此，我们这个例子基本上写完了，开始进行打包。 十二、修改maven的pom.xml文件1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556&lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; &lt;configuration&gt; &lt;source&gt;1.8&lt;/source&gt; &lt;target&gt;1.8&lt;/target&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt; &lt;version&gt;2.3&lt;/version&gt; &lt;configuration&gt; &lt;createDependencyReducedPom&gt;true&lt;/createDependencyReducedPom&gt; &lt;filters&gt; &lt;filter&gt; &lt;artifact&gt;*:*&lt;/artifact&gt; &lt;excludes&gt; &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt; &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt; &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt; &lt;/excludes&gt; &lt;/filter&gt; &lt;/filters&gt; &lt;/configuration&gt; &lt;executions&gt; &lt;execution&gt; &lt;phase&gt;package&lt;/phase&gt; &lt;goals&gt; &lt;goal&gt;shade&lt;/goal&gt; &lt;/goals&gt; &lt;configuration&gt; &lt;transformers&gt; &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt; &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt; &lt;mainClass&gt;com.demo1.helloworld.main.HelloWorldMain&lt;/mainClass&gt; &lt;/transformer&gt; &lt;/transformers&gt; &lt;/configuration&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;/plugin&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt; &lt;version&gt;2.4&lt;/version&gt; &lt;configuration&gt; &lt;archive&gt; &lt;manifest&gt; &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt; &lt;/manifest&gt; &lt;/archive&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; 十三、开始进行打包 十四、开始启动 看到上面的日志，则表明启动成功，打开浏览器访问：http://localhost:8080/hello-world http://localhost:8080/hello-world?name=xiaoming 至此，本次的Hello World编写完成。所有代码均可以通过我的GItHub进行获取到，如有需要可以点击我的GitHub下载。","categories":[{"name":"Dropwizard","slug":"Dropwizard","permalink":"http://cnhuashao.com/categories/Dropwizard/"}],"tags":[{"name":"Dropwizard","slug":"Dropwizard","permalink":"http://cnhuashao.com/tags/Dropwizard/"}],"keywords":[{"name":"Dropwizard","slug":"Dropwizard","permalink":"http://cnhuashao.com/categories/Dropwizard/"}]},{"title":"在Ubuntu18.04 Server中安装jetty，非apt版","slug":"jetty-init","date":"2019-04-18T05:47:36.000Z","updated":"2019-04-18T05:47:36.000Z","comments":true,"path":"2019/04/18/jetty-init/","link":"","permalink":"http://cnhuashao.com/2019/04/18/jetty-init/","excerpt":"本教程安装环境为 1、Ubuntu18.04 Server系统 2、JDK1.8 这里提一下，在Ubuntu中是可以sudo apt-get install jetty9安装的，这个安装包是和openjdk10挂在一起，如果没有特定要求，可以直接快速安装使用。 以下为安装步骤： 1、创建一个安装目录12sudo mkdir /usr/jettysudo chown ceshi:ceshi /usr/jetty/","text":"本教程安装环境为 1、Ubuntu18.04 Server系统 2、JDK1.8 这里提一下，在Ubuntu中是可以sudo apt-get install jetty9安装的，这个安装包是和openjdk10挂在一起，如果没有特定要求，可以直接快速安装使用。 以下为安装步骤： 1、创建一个安装目录12sudo mkdir /usr/jettysudo chown ceshi:ceshi /usr/jetty/ 2、下载jetty压缩包1wget https://repo1.maven.org/maven2/org/eclipse/jetty/jetty-distribution/9.4.11.v20180605/jetty-distribution-9.4.11.v20180605.tar.gz 3、更改目录名称1mv jetty-distribution-9.4.11.v20180605 jetty-9.4.11 4、创建服务启动项1cp jetty-9.4.11/bin/jetty.sh /etc/init.d/jetty 5、配置jetty基础参数12345JAVA_HOME=/usr/java/jdk1.8.0_161JETTY_HOME=/usr/jetty/jetty9NO_START=0JETTY_ARGS=jetty.port=8080JETTY_HOST=0.0.0.0 6、启动测试1sudo service jetty start 启动无异常，则表示配置成功，如果出现问题则执行sudo service jetty status另一种启动方式为：java -jar ./start.jar","categories":[{"name":"jetty","slug":"jetty","permalink":"http://cnhuashao.com/categories/jetty/"}],"tags":[{"name":"jetty","slug":"jetty","permalink":"http://cnhuashao.com/tags/jetty/"}],"keywords":[{"name":"jetty","slug":"jetty","permalink":"http://cnhuashao.com/categories/jetty/"}]},{"title":"Java_错误汇总","slug":"java-error","date":"2019-04-18T03:42:34.000Z","updated":"2019-04-18T03:42:34.000Z","comments":true,"path":"2019/04/18/java-error/","link":"","permalink":"http://cnhuashao.com/2019/04/18/java-error/","excerpt":"错误1、生成内存图像错误，以下为错误信息","text":"错误1、生成内存图像错误，以下为错误信息 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778HTTP Status 500 – Internal Server ErrorType Exception ReportMessage An exception occurred processing [/captcha.jsp] at line [47]Description The server encountered an unexpected condition that prevented it from fulfilling the request.Exceptionorg.apache.jasper.JasperException: An exception occurred processing [/captcha.jsp] at line [47]44: //定义图片尺寸45: int width=60*this.captchaType, height=(this.captchaType==1)?16:20;46: //创建内存图像47: BufferedImage image = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);48: //获取图形上下文49: Graphics g = image.getGraphics();50: //设定背景色Stacktrace: org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:593) org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:467) org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:386) org.apache.jasper.servlet.JspServlet.service(JspServlet.java:330) javax.servlet.http.HttpServlet.service(HttpServlet.java:741) org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88) org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343) org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260) com.github.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:63) org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:167) org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:80) org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343) org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260)Root Causejavax.servlet.ServletException: java.lang.NoClassDefFoundError: Could not initialize class java.awt.image.BufferedImage org.apache.jasper.runtime.PageContextImpl.handlePageException(PageContextImpl.java:667) org.apache.jsp.captcha_jsp._jspService(captcha_jsp.java:282) org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70) javax.servlet.http.HttpServlet.service(HttpServlet.java:741) org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:444) org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:386) org.apache.jasper.servlet.JspServlet.service(JspServlet.java:330) javax.servlet.http.HttpServlet.service(HttpServlet.java:741) org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88) org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343) org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260) com.github.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:63) org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:167) org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:80) org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343) org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260)Root Causejava.lang.NoClassDefFoundError: Could not initialize class java.awt.image.BufferedImage org.apache.jsp.captcha_jsp._jspService(captcha_jsp.java:170) org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70) javax.servlet.http.HttpServlet.service(HttpServlet.java:741) org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:444) org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:386) org.apache.jasper.servlet.JspServlet.service(JspServlet.java:330) javax.servlet.http.HttpServlet.service(HttpServlet.java:741) org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88) org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343) org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260) com.github.inspektr.common.web.ClientInfoThreadLocalFilter.doFilter(ClientInfoThreadLocalFilter.java:63) org.springframework.session.web.http.SessionRepositoryFilter.doFilterInternal(SessionRepositoryFilter.java:167) org.springframework.session.web.http.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:80) org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343) org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260)Note The full stack trace of the root cause is available in the server logs. 造成原因：图形化支持问题解决方案：在tomcat启动文件bin\\catalina.sh 中更改$_RUNJAVA启动参数，追加-Djava.awt.headless=true \\ 这一句123456789101112shift eval exec &quot;\\&quot;$_RUNJAVA\\&quot;&quot; &quot;\\&quot;$LOGGING_CONFIG\\&quot;&quot; $LOGGING_MANAGER $JAVA_OPTS $CATALINA_OPTS \\ -D$ENDORSED_PROP=&quot;\\&quot;$JAVA_ENDORSED_DIRS\\&quot;&quot; \\ -classpath &quot;\\&quot;$CLASSPATH\\&quot;&quot; \\ -Djava.security.manager \\ -Djava.security.policy==&quot;\\&quot;$CATALINA_BASE/conf/catalina.policy\\&quot;&quot; \\ -Dcatalina.base=&quot;\\&quot;$CATALINA_BASE\\&quot;&quot; \\ -Dcatalina.home=&quot;\\&quot;$CATALINA_HOME\\&quot;&quot; \\ -Djava.io.tmpdir=&quot;\\&quot;$CATALINA_TMPDIR\\&quot;&quot; \\ -Djava.awt.headless=true \\ org.apache.catalina.startup.Bootstrap &quot;$@&quot; start else","categories":[{"name":"java","slug":"java","permalink":"http://cnhuashao.com/categories/java/"},{"name":"error","slug":"java/error","permalink":"http://cnhuashao.com/categories/java/error/"}],"tags":[{"name":"java","slug":"java","permalink":"http://cnhuashao.com/tags/java/"},{"name":"jdk","slug":"jdk","permalink":"http://cnhuashao.com/tags/jdk/"}],"keywords":[{"name":"java","slug":"java","permalink":"http://cnhuashao.com/categories/java/"},{"name":"error","slug":"java/error","permalink":"http://cnhuashao.com/categories/java/error/"}]},{"title":"Kettle7.1创建资源库，资源库颜色灰色，没有Connect按钮解决办法","slug":"kettle-ziyuanku","date":"2019-04-18T03:40:56.000Z","updated":"2019-04-18T03:40:56.000Z","comments":true,"path":"2019/04/18/kettle-ziyuanku/","link":"","permalink":"http://cnhuashao.com/2019/04/18/kettle-ziyuanku/","excerpt":"我们在官网下载的Ketlle7.1工具，在本地运行时会发现标题中提到的问题：工具-资源库里面的按钮都是灰色的，无法点击。查找Connect整个页面找了个遍，也没有找到。于是乎开始百度、谷歌的搜索啊、找啊，结果大部分都是复制粘贴的教程，说让去找缓存文件中找repository.xml这个文件，结果全硬盘找了个遍也没有发现这个文件藏在那里。本着问题不解决就疯掉的原则，自己开始动手查找原因，首先Connect按钮为何没有了，翻找菜单。按钮属于功能、工具，按照传统分类，不是视图就是工具。","text":"我们在官网下载的Ketlle7.1工具，在本地运行时会发现标题中提到的问题：工具-资源库里面的按钮都是灰色的，无法点击。查找Connect整个页面找了个遍，也没有找到。于是乎开始百度、谷歌的搜索啊、找啊，结果大部分都是复制粘贴的教程，说让去找缓存文件中找repository.xml这个文件，结果全硬盘找了个遍也没有发现这个文件藏在那里。本着问题不解决就疯掉的原则，自己开始动手查找原因，首先Connect按钮为何没有了，翻找菜单。按钮属于功能、工具，按照传统分类，不是视图就是工具。 打开工具——选项 映入我们眼中的是一堆的初始设置参数，从中仔细查找，终于功夫不负有心人，被我找到了一个勾选项 将这个对勾勾选上，重启Kettle,结果直接看下面的图。 开始我们的资源库创建旅程吧。","categories":[{"name":"kettle","slug":"kettle","permalink":"http://cnhuashao.com/categories/kettle/"}],"tags":[{"name":"kettle","slug":"kettle","permalink":"http://cnhuashao.com/tags/kettle/"}],"keywords":[{"name":"kettle","slug":"kettle","permalink":"http://cnhuashao.com/categories/kettle/"}]},{"title":"在Centos7中安装hexo基础环境与设置博客映射","slug":"centos-hexo-init","date":"2019-04-13T02:04:47.000Z","updated":"2019-04-13T03:04:47.000Z","comments":true,"path":"2019/04/13/centos-hexo-init/","link":"","permalink":"http://cnhuashao.com/2019/04/13/centos-hexo-init/","excerpt":"本次章节主要是进行搭建个人博客的过程记录，该记录主要分为四部分： 第一部分：基础环境安装 第二部分：主题样式的设置 第三部分：扩展组件安装与使用 第四部分：使用与注意事项 本篇为第一部分：基础环境安装 hexo的安装主要涉及到三个软件的安装：Git、nodejs、hexo 安装后的效果是我们可以通过访问http://IP:4000地址进行查看到hexo的hello world页面。同时可以通过GitHub地址或自己的域名进行访问。 本次安装环境：Centos7 最小安装的系统","text":"本次章节主要是进行搭建个人博客的过程记录，该记录主要分为四部分： 第一部分：基础环境安装 第二部分：主题样式的设置 第三部分：扩展组件安装与使用 第四部分：使用与注意事项 本篇为第一部分：基础环境安装 hexo的安装主要涉及到三个软件的安装：Git、nodejs、hexo 安装后的效果是我们可以通过访问http://IP:4000地址进行查看到hexo的hello world页面。同时可以通过GitHub地址或自己的域名进行访问。 本次安装环境：Centos7 最小安装的系统 第一节：Git的安装1、将centos更新至最新（可忽略） 1yum -y update 2、执行快速安装命令1yum install git -y 3、设置基础账号与邮箱12git config --global user.name &quot;你的账号&quot;git config --global user.email &quot;你的邮箱&quot; 第二节：nodejs的安装本次安装采用编译安装（快速安装在本次记录中没有找到合适的办法安装最新版本） 1、安装基础编译环境1yum install gcc-c++ 2、下载源码包1wget https://npm.taobao.org/mirrors/node/v11.0.0/node-v11.0.0.tar.gz 3、解压源码包，并进入解压后的文件夹中12tar -zxf node-v11.0.0.tar.gzcd node-v11.0.0 4、开始进行编译，本次编译时间大约30分钟左右（可以去忙些别的了。。。）1./configure &amp;&amp; make 5、开始进行安装123make installnode -vnpm -v 备注：如果node -v没有版本信息，可进行一下设置环境变量再进行测试1234vim /etc/profile在该文件底部增加下面两行export NODE_HOME=node目录export PATH=$NODE_HOME/bin:$PATH 执行命令生效环境变量后再次重新尝试获取版本信息。123source /etc/profilenode -vnpm -v 第三节：hexo的安装1、安装hexo软件12npm install -g hexo-clihexo -v 2、初始化1hexo init 你自己的个人博客文件夹名称 初始化后生成了一系列文件详情请参考https://hexo.io/zh-cn/docs/setup 3、根据package.json文件进行自动化安装1npm install 4、生成静态文件1hexo g 5、启动服务器。默认情况下，访问网址为： http://localhost:4000/1hexo s 注：命令参考https://hexo.io/zh-cn/docs/commands这时可以进行访问当前这个博客了。 第四节：GitHub的配置与访问上面已经搭建完成了基础环境，下面我们想要在互联网上可以随意访问个人的博客，但是我们当下没有自己的服务器和相应的外网IP地址，对此，这里我们采用GitHub的方式进行发布自己的个人博客。前提条件自己需要去https://github.com/官网进行注册一个账号 1、在该账号下创建一个项目，该项目名称命名方式要遵循以下格式：hexo的个人博客名称（也是自己以后访问使用的域名）.github.io 2、切换到自己的服务器中，在~目录下执行1ssh-keygen -t rsa -C &quot;你的github中设置的邮箱&quot; 建议在设置ssh的秘钥时设置一个证书密码12cd .ssh/cat id_rsa.pub 3、将上面查看的所有信息复制一份放到GitHub上面 4、在服务器中进行执行以下命令进行测试ssh直连是否可用1ssh -T git@github.com 这里在执行时会让输入一个密码，这个密码就是上面证书设置的密码，如果上面没有设置密码，则这里直接免密连接。连接成功会打印一句话：Hi cnHuaShao! You’ve successfully authenticated, but GitHub does not provide shell access. 5、hexo的git基础管理工具。12#安装基础的管理软件npm install hexo-deployer-git --save 6、设置hexo项目提交位置1234567cd ~/你的hexo项目名vim _config.yml#翻到最底部，设置以下内容,:wq保存并退出deploy: type: git repo: https://github.com/你的GitHub的名称/上面设置的名称.github.io.git branch: master 7、清理当前项目基础缓存，重新生成静态文件并部署，这里自动化部署就是根据上面设置的地址自动化提交。123hexo cleanhexo generatehexo deploy 这时可以稍微等一会，在浏览器中输入http://上面设置的名称.github.io网站访问自己的博客了注：在提交的过程中会让输入GitHub的账号密码，如果想不输入账号密码，则看下面的第8、9步。 8、其实我们在上面准备的SSH的证书就是为了不输入密码提交GitHub，设置起来也很简单，首先获取到HTTP的项目地址 9、修改上面的_config.yml中的repo地址，将这个地址替换成第8步中获取到的地址。这时再进行hexo deploy部署时发现不需要输入密码了，当然如果你的证书是和我一样也设置了密码，那么还是需要输入证书密码的，免密登录重新生成一个无密码的证书并设置到GitHub上就可以了。 第五节：个人域名的解析与配置上面我们已经将自己的博客发布到互联网上了，并可以在任何具有网络的地方访问了，但是身为一名合格的程序猿，没有自己的域名怎么可能呢，这里我们就用阿里云上面的域名进行设置一下，让自己的项目可以用自己的域名访问。 1、打开阿里云域名管理页面，进行添加相关解析地址： 2、打开GitHub中个人博客项目的设置页面，进行设置自己的域名。向下翻，在此处设置上自己的域名地址即可，当然图中使用的是二级域名设置，如果使用一级域名则将解析中的A类的设置为www，而不是blog，同样的在下图中设置时也是使用一级的域名保存。 注：这里存在一个问题，当我们再次部署项目时，会自动将上面的项目设置域名给还原成原来的.github.io域名，下面我们来讲一下如何避免自动还原。1、进入服务器的hexo项目中的source目录下创建一个文件CNAME，文件中增加自己的域名地址。 2、重新生成静态文件123hexo chexo ghexo d 这时再去GitHub中会发现重新提交的项目不会再替换掉设置信息了。","categories":[{"name":"postgresql","slug":"postgresql","permalink":"http://cnhuashao.com/categories/postgresql/"}],"tags":[{"name":"sql","slug":"sql","permalink":"http://cnhuashao.com/tags/sql/"}],"keywords":[{"name":"postgresql","slug":"postgresql","permalink":"http://cnhuashao.com/categories/postgresql/"}]}]}